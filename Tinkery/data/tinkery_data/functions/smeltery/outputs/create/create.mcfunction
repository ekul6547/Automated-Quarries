execute if score #tinkery t_output matches 0 run execute at @s if block ~ ~-1 ~ minecraft:cauldron run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/block
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{tag:{TinkeryCast:"ingot"}}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/ingot
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{tag:{TinkeryCast:"gem"}}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/gem
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{tag:{TinkeryCast:"nugget"}}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/nugget
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{tag:{TinkeryCast:"dust"}}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/dust
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{tag:{TinkeryCast:"horse_armor"}}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/horse_armor
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron if entity @e[type=minecraft:item_frame,nbt={Facing:1b},distance=..0.7,limit=1,nbt={Item:{id:"minecraft:bucket"}}] run execute as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] run function #tinkery_data:smeltery/create/bucket

#If all else fails, test for cast creation
execute if score #tinkery t_output matches 0 run execute at @s unless block ~ ~-1 ~ minecraft:cauldron as @e[type=minecraft:armor_stand,tag=t_s_current,limit=1] if data entity @s ArmorItems[0].tag.Smeltery.TempItem.tag.TinkeryMat{id:"gold"} run function tinkery_data:smeltery/outputs/casts/create